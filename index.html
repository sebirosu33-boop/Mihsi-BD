<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Case</title>
  <style>
    :root{
      --bg: #0f1117;
      --panel: #1a202c;
      --accent: #2563eb;
      --yellow: #facc15;
      --text: #ffffff;
      --container-max: 900px;
      --item-size: 160px;
      --item-gap: 12px;
      --border-width: 2px;
    }

    @media (max-width: 420px) {
      :root{ --item-size: 140px; --container-max: 420px; }
    }
    @media (max-width: 360px) {
      :root{ --item-size: 120px; --container-max: 360px; }
    }

    html,body{
      height:100%;
      margin:0;
      padding:0;
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .wrap {
      max-width: var(--container-max);
      margin: 18px auto;
      padding: 18px;
      text-align: center;
    }

    h1 { margin: 8px 0 12px 0; font-size: 20px; }

    button#openBtn {
      background: var(--accent);
      color: white;
      padding: 12px 18px;
      border: none;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.4);
    }
    button#openBtn[disabled]{ opacity: 0.5; cursor: default; }

    #roulette-container {
      margin: 0 auto;
      width: 100%;
      max-width: calc(var(--item-size) * 4 + 4 * var(--item-gap) + 40px);
      height: calc(var(--item-size) + 20px);
      overflow: hidden;
      border: 2px solid #2d3748;
      background: var(--panel);
      position: relative;
      border-radius: 10px;
      padding: 8px;
      box-sizing: border-box;
    }

#pointer {
  width: 4px;
  height: 100%;
  background: #ffffff; /* linie albƒÉ */
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
  border-radius: 2px;
  box-shadow: 0 0 8px #000000; /* glow negru */
}

    #roulette {
      display: flex;
      gap: var(--item-gap);
      align-items: center;
      transition: transform 7s cubic-bezier(0.1, 0.8, 0.1, 1);
      will-change: transform;
      padding: 6px 0;
    }

    .item {
      width: var(--item-size);
      height: var(--item-size);
      box-sizing: border-box;
      flex-shrink: 0;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: var(--border-width) solid transparent;
      position: relative;
      overflow: hidden;
    }

    .consumer  { background: #4b5563; border-color: #6b7280; }
    .industrial{ background: #60a5fa; border-color: #93c5fd; }
    .milspec   { background: #1e3a8a; border-color: #3b82f6; }
    .restricted{ background: #6d28d9; border-color: #a78bfa; }
    .classified{ background: #be185d; border-color: #ec4899; }
    .covert    { background: #dc2626; border-color: #f87171; }
    .winner-box{ background: var(--yellow); border-color: var(--yellow); }

    .item img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      border-radius: 6px;
      background: transparent;
    }

    #winner { margin-top: 14px; font-size: 16px; min-height: 22px; }
    #finalImage {
      margin-top: 12px;
      max-width: 320px;
      width: 80%;
      border-radius: 8px;
      display: none;
      border: 2px solid var(--yellow);
      box-shadow: 0 6px 20px rgba(250,204,21,0.85);
    }

    .small-muted { color: #aab0bd; font-size: 13px; margin-top:6px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Happy Birthday Case üéÅ</h1>
    <button id="openBtn" onclick="startRoulette()">Open Case</button>
   
    <div id="roulette-container" aria-hidden="false">
      <div id="pointer" aria-hidden="true"></div>
      <div id="roulette" role="list"></div>
    </div>

    <div id="winner" aria-live="polite"></div>
    <img id="finalImage" src="" alt="Cadoul c√¢»ôtigat" />
  </div>

  <audio id="caseSound" src="csgo-drop-sound.mp3" preload="auto"></audio>

  <script>
    const dummyImages = [
         "https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLwiYbf_DVL0OK8Yap5M-SBC2ad_uJ_t-l9AX_qlk4k5GyAzo6ocC-QZgZxX8AjEbZY5xnrxtPjM7vnsgGIj9oTmXngznQeg3pfcPs/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL3n5vh7h1d7v-ve5tvIfSHHG6A_uJ_t-l9AX6xzExytWndzdj6eCrGb1MkWZB2TOBc4xK8mtHkZezrsQOPjoITyi_gznQezHhrR0c/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLwlcK3wiNQu6WRbbx9LP-AB3GV_uJ_t-l9AXu2lk1xsD-EnI3_JHmeaAV1CZB1RbEJtxfuxNHuMuq251PY3o4UxXjgznQeg4Qz-rg/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLkk4a0qB1O4uL6PZtiLPSsDWaC1eF5vt5lRi67gVN2tWXTzI6tc3rGPQ4kWJUiQrJf4RPskIW2ZO3r4VaKi9hFyX-qhy0a8G81tA_18T9p/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL1m5fn8Sdk6_evb6hoH-OdD2yV_v53pPVsXSeMmRQguynLzdmsIHOVPVciXMN3QuVeuxexmtHuP77m7gDd34kRxXj_3ChKvS9p5fFCD_SJMmxOXA/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL_kYDhwixU-fOReq1-Kf6UMXSFz9F6ueZhW2eyzB9z4WjTzt77JXKVaQcnC5sjTLEMthDpwdzkMr_lsVbW34lGmyj5kGoXuV-iSbwM/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLhx8bf7XsL0PChZ7d5H_KfG2KvzedxuPUnTHrlzU9xt2qHzd-rJ3yQb1cmXJNzF-Vc5BS6wdLjMe60tAyP3dhNzTK-0H3NvEQllg/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL2n5rp8SNJ0PWvZK1hH_OcAHOCzuJJo_V7RiK2qhEutDWR1Nmvcn6RPFVxW5txTbRZuxDuxNKzZu2x7wCMiNpExCSshyof7Xlt5-scEf1y6paUA5M/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLln4Xl7x1B6ue9V7BiM_GaMWuZxuZi_uM6GXC3xUh05D7WmY36IHuUZ1AjXpVwR-FZu0OxltHlN-_gsQ3Z34NbjXKpEIQyv90/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLkjYbf7itX6vytbbZSNeODHViS0_titedmXSq2qho1tjiLpYPwJiPTcFcoCpV2F-Nc4xXpwNPhZeLg5AffiIxNynj2jylP53xp6ugHU6Ig__XJz1aWMWkGKhU/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLkjYbf7itX6vytbbZSNeODHViS0_titedmXSq2qho1tjiLpYPwJiPTcFcoCpV2F-Nc4xXpwNPhZeLg5AffiIxNynj2jylP53xp6ugHU6Ig__XJz1aWMWkGKhU/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL8ypexwi8P7qaRb7ZoJf6sDWadztF6ueZhW2fjl05-6mzVmdmgcHOTZgIhXpJ1RO5c4Bjql9DjMunhsgOL34gUnnr-kGoXuTonsfJ3/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLijZGwpR1I_PX-MJtvMuWHD2uZ0vpJvOhuRz39x0UlsWmEnt37IHyfaFAkWZR5RuALtRKxlYKxMLnn4leL3t5FmSv9ijQJsHj6GwByAQ/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL8js_f8DIC0PyrcLF-H_yaCW-Ej7ohs7Q5FnDqx0t152XdzI36cCnDaAZyDJNzRuVYsBa4kYHgZbyx4ALAy9USEWUfUe0/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyLpk8ewrHZk9___OPU5H_2cDWyZz-l0ufNtcCW6khUz_T-AnNagJH3FbwQnCsEmTeEMs0aww9biMby3tleKjtkQmSX-2yMfv311o7FVNa3OfdQ/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL5lYayrXIL0OL8Y5trMvGQGmac_uJ_t-l9AS2wwxx06mTUw9b7JH2RZlQoDZYkRLQD5hW4lNPiYePktgzWj45CmSzgznQeV1pFuQ0/512fx384f",
"https://steamcommunity-a.akamaihd.net/economy/image/i0CoZ81Ui0m-9KwlBY1L_18myuGuq1wfhWSaZgMttyVfPaERSR0Wqmu7LAocGIGz3UqlXOLrxM-vMGmW8VNxu5Dx60noTyL8n5G3wi9a6KWRaalgL8-RAX-vzedxuPUnTHjgkxwj52SHyImqcX2fO1AhDMNxEe4I4RWwkIXgMO60sQPeiYgQmTK-0H2GsAjMqQ/512fx384f"

    ];

    const userImageURL = "https://i.ibb.co/C3S6tTj9/scaun-gaming-cu-masaj-in-perna-lombara-sezut-benzi-elastice-sustinere-suport-picioare-material-texti.png";

    const roulette = document.getElementById("roulette");
    const finalImage = document.getElementById("finalImage");
    const winnerText = document.getElementById("winner");
    const openBtn = document.getElementById("openBtn");
    const sound = document.getElementById("caseSound");

    const rarities = ["consumer", "industrial", "milspec", "restricted", "classified", "covert"];
    const TOTAL_ITEMS = 30;
    const WIN_INDEX = 24;

    function getItemWidth(){
      const root = getComputedStyle(document.documentElement);
      return parseFloat(root.getPropertyValue('--item-size').trim());
    }

    function startRoulette(){
      openBtn.disabled = true;
      try{ sound.currentTime=0; sound.play(); }catch(e){}

      winnerText.textContent = "";
      finalImage.style.display = "none";
      roulette.innerHTML = "";

      for(let i=0;i<TOTAL_ITEMS;i++){
        const div = document.createElement("div");
        div.classList.add("item");
        const img = document.createElement("img");

        if(i===WIN_INDEX){
          div.classList.add("winner-box");
          img.src = userImageURL;
          img.alt = "C√¢»ôtigƒÉtor";
        } else {
          const rarity = rarities[Math.floor(Math.random()*rarities.length)];
          div.classList.add(rarity);
          img.src = dummyImages[Math.floor(Math.random()*dummyImages.length)];
          img.alt = "Item";
        }

        div.appendChild(img);
        roulette.appendChild(div);
      }

      const itemW = getItemWidth() + parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--item-gap')||12);
      const container = document.getElementById("roulette-container");
      const containerMid = container.getBoundingClientRect().width/2;
      const offset = -(WIN_INDEX*itemW) + containerMid - (itemW/2);

      roulette.style.transition = "none";
      roulette.style.transform = "translateX(0px)";
      void roulette.offsetWidth;

      roulette.style.transition = "transform 7s cubic-bezier(0.1,0.8,0.1,1)";
      roulette.style.transform = `translateX(${offset}px)`;

      function onEnd(){
        winnerText.innerHTML = "üéâ Ai c√¢»ôtigat: <strong>Gaming Chair | Grey</strong><br>Noul tƒÉu scaun este √Æn drum spre tine!";
        finalImage.src = userImageURL;
        finalImage.style.display = "inline-block";
        setTimeout(()=> openBtn.disabled=false,800);
        roulette.removeEventListener('transitionend',onEnd);
      }
      roulette.addEventListener('transitionend',onEnd);
    }

    openBtn.addEventListener('keydown',(e)=>{if(openBtn.disabled)e.preventDefault();});
  </script>
</body>
</html>
